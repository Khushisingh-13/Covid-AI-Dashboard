{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KULDEEP\\\\Desktop\\\\covid\\\\src\\\\components\\\\Doctorpage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { db, auth } from \"../firebase\";\nimport { collection, getDocs, addDoc, Timestamp } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppointmentBooking = () => {\n  _s();\n  const [doctors, setDoctors] = useState([]);\n  const [selectedDoctor, setSelectedDoctor] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  useEffect(() => {\n    const fetchDoctors = async () => {\n      const querySnapshot = await getDocs(collection(db, \"doctors\"));\n      const doctorList = querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      setDoctors(doctorList);\n    };\n    fetchDoctors();\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const user = auth.currentUser;\n    if (!user) {\n      alert(\"You must be logged in to book an appointment.\");\n      return;\n    }\n    try {\n      await addDoc(collection(db, \"appointments\"), {\n        userId: user.uid,\n        doctorId: selectedDoctor,\n        appointmentDate: Timestamp.fromDate(new Date(date)),\n        createdAt: Timestamp.now()\n      });\n      setMessage(\"Appointment booked successfully!\");\n      setSelectedDoctor(\"\");\n      setDate(\"\");\n    } catch (err) {\n      console.error(\"Error booking appointment:\", err);\n      setMessage(\"Failed to book appointment.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"400px\",\n      margin: \"40px auto\",\n      padding: \"20px\",\n      background: \"#ffffff\",\n      boxShadow: \"0 0 20px rgba(0,0,0,0.1)\",\n      borderRadius: \"16px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Book a Doctor Appointment\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: \"12px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          fontWeight: \"bold\"\n        },\n        children: \"Choose Doctor:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedDoctor,\n        onChange: e => setSelectedDoctor(e.target.value),\n        required: true,\n        style: {\n          padding: \"10px\",\n          fontSize: \"16px\",\n          borderRadius: \"8px\",\n          border: \"1px solid #ccc\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Select Doctor --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), doctors.map(doc => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: doc.id,\n          children: [\"Dr. \", doc.name, \" (\", doc.specialty, \")\"]\n        }, doc.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          fontWeight: \"bold\"\n        },\n        children: \"Date:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: date,\n        onChange: e => setDate(e.target.value),\n        required: true,\n        style: {\n          padding: \"10px\",\n          fontSize: \"16px\",\n          borderRadius: \"8px\",\n          border: \"1px solid #ccc\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: {\n          padding: \"10px\",\n          fontSize: \"16px\",\n          borderRadius: \"8px\",\n          backgroundColor: \"#007bff\",\n          color: \"white\",\n          border: \"none\",\n          cursor: \"pointer\"\n        },\n        children: \"Book Appointment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: \"10px\",\n          fontWeight: \"bold\",\n          color: \"green\"\n        },\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(AppointmentBooking, \"Ed5HMGqhKt7/7DgiCfgM+CTJiyY=\");\n_c = AppointmentBooking;\nexport default Doc;\nvar _c;\n$RefreshReg$(_c, \"AppointmentBooking\");","map":{"version":3,"names":["React","useState","useEffect","db","auth","collection","getDocs","addDoc","Timestamp","jsxDEV","_jsxDEV","AppointmentBooking","_s","doctors","setDoctors","selectedDoctor","setSelectedDoctor","date","setDate","message","setMessage","fetchDoctors","querySnapshot","doctorList","docs","map","doc","id","data","handleSubmit","e","preventDefault","user","currentUser","alert","userId","uid","doctorId","appointmentDate","fromDate","Date","createdAt","now","err","console","error","style","maxWidth","margin","padding","background","boxShadow","borderRadius","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","display","flexDirection","gap","fontWeight","value","onChange","target","required","fontSize","border","name","specialty","type","backgroundColor","color","cursor","marginTop","_c","Doc","$RefreshReg$"],"sources":["C:/Users/KULDEEP/Desktop/covid/src/components/Doctorpage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { db, auth } from \"../firebase\";\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  addDoc,\r\n  Timestamp,\r\n} from \"firebase/firestore\";\r\n\r\nconst AppointmentBooking = () => {\r\n  const [doctors, setDoctors] = useState([]);\r\n  const [selectedDoctor, setSelectedDoctor] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchDoctors = async () => {\r\n      const querySnapshot = await getDocs(collection(db, \"doctors\"));\r\n      const doctorList = querySnapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      }));\r\n      setDoctors(doctorList);\r\n    };\r\n    fetchDoctors();\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const user = auth.currentUser;\r\n    if (!user) {\r\n      alert(\"You must be logged in to book an appointment.\");\r\n      return;\r\n    }\r\n    try {\r\n      await addDoc(collection(db, \"appointments\"), {\r\n        userId: user.uid,\r\n        doctorId: selectedDoctor,\r\n        appointmentDate: Timestamp.fromDate(new Date(date)),\r\n        createdAt: Timestamp.now(),\r\n      });\r\n      setMessage(\"Appointment booked successfully!\");\r\n      setSelectedDoctor(\"\");\r\n      setDate(\"\");\r\n    } catch (err) {\r\n      console.error(\"Error booking appointment:\", err);\r\n      setMessage(\"Failed to book appointment.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      maxWidth: \"400px\",\r\n      margin: \"40px auto\",\r\n      padding: \"20px\",\r\n      background: \"#ffffff\",\r\n      boxShadow: \"0 0 20px rgba(0,0,0,0.1)\",\r\n      borderRadius: \"16px\"\r\n    }}>\r\n      <h2>Book a Doctor Appointment</h2>\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        style={{ display: \"flex\", flexDirection: \"column\", gap: \"12px\" }}\r\n      >\r\n        <label style={{ fontWeight: \"bold\" }}>Choose Doctor:</label>\r\n        <select\r\n          value={selectedDoctor}\r\n          onChange={(e) => setSelectedDoctor(e.target.value)}\r\n          required\r\n          style={{\r\n            padding: \"10px\",\r\n            fontSize: \"16px\",\r\n            borderRadius: \"8px\",\r\n            border: \"1px solid #ccc\"\r\n          }}\r\n        >\r\n          <option value=\"\">-- Select Doctor --</option>\r\n          {doctors.map((doc) => (\r\n            <option key={doc.id} value={doc.id}>\r\n              Dr. {doc.name} ({doc.specialty})\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <label style={{ fontWeight: \"bold\" }}>Date:</label>\r\n        <input\r\n          type=\"date\"\r\n          value={date}\r\n          onChange={(e) => setDate(e.target.value)}\r\n          required\r\n          style={{\r\n            padding: \"10px\",\r\n            fontSize: \"16px\",\r\n            borderRadius: \"8px\",\r\n            border: \"1px solid #ccc\"\r\n          }}\r\n        />\r\n\r\n        <button\r\n          type=\"submit\"\r\n          style={{\r\n            padding: \"10px\",\r\n            fontSize: \"16px\",\r\n            borderRadius: \"8px\",\r\n            backgroundColor: \"#007bff\",\r\n            color: \"white\",\r\n            border: \"none\",\r\n            cursor: \"pointer\"\r\n          }}\r\n        >\r\n          Book Appointment\r\n        </button>\r\n\r\n        {message && (\r\n          <p style={{\r\n            marginTop: \"10px\",\r\n            fontWeight: \"bold\",\r\n            color: \"green\"\r\n          }}>{message}</p>\r\n        )}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Doc;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}